# ========================================
# ⚠️ ARCHIVED: Google Gemini API (已封存)
# ========================================
# 封存日期：2026-02-03
# 原因：转向本地LLM方案（Qwen2.5等开源模型）
# 如需重新启用，取消下面注释并填入真实API Key
# ========================================
# GEMINI_API_KEY=your_gemini_api_key_here
# GEMINI_MODEL=gemini-3-pro-preview
# GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta

# ========================================
# Gemini CLI（本地命令行模式）
# ========================================
# GEMINI_MODE=host-proxy
# GEMINI_PROXY_URL=http://host.docker.internal:18888/api/gemini
# GEMINI_PROXY_AUTH_MODE=apikey
# GEMINI_PROXY_API_KEY=tri-lang-learning-6a96f31e3a32b32ce404d9c6a91670b9
# GEMINI_PROXY_BEARER_TOKEN=
# GEMINI_PROXY_SOURCE_APP=tri-lang-learning-system
# GEMINI_PROXY_SOURCE_ENV=prod
# GEMINI_PROXY_PROJECT=tri-lang-learning-system
# GEMINI_PROXY_MODEL=gemini-3-pro-preview
# GEMINI_PROXY_REQUEST_TIMEOUT_MS=120000
# GEMINI_PROXY_EXECUTION_TIMEOUT_MS=100000
# GEMINI_PROXY_PARAM_POLICY=strict
# GEMINI_PROXY_ENFORCE_GATEWAY=true
# GEMINI_PROXY_PREFER_IPV4=true
# GEMINI_PROXY_IPV4_FALLBACK=192.168.65.254
# GEMINI_PROXY_RETRIES=1
# GEMINI_PROXY_AUTO_RESET=true
# GEMINI_PROXY_RETRY_DELAY_MS=1200
# GEMINI_FALLBACK_TO_LOCAL=true
# GEMINI_CLI_MODEL=gemini-3-pro-preview
# GEMINI_TEACHER_MODEL=gemini-3-pro-preview
# MARKDOWN_PROMPT_PATH=./prompts/phrase_3LANS_markdown.md


# ========================================
# 本地 LLM 配置（当前主要方案）
# ========================================
LLM_BASE_URL=http://localhost:15800/v1
LLM_API_KEY=EMPTY
LLM_MODEL=qwen2_5_vl
LLM_OCR_MODEL=qwen2_5_vl

# LLM 参数配置
LLM_MAX_TOKENS=2048
LLM_OCR_MAX_TOKENS=512
LLM_TEMPERATURE=0.2
# LLM_OUTPUT_MODE=markdown

# ========================================
# OCR 配置（推荐：Tesseract 独立容器）
# ========================================
# OCR_PROVIDER=tesseract   # tesseract | local | auto
# OCR_TESSERACT_ENDPOINT=http://ocr:8080/ocr
# OCR_LANGS=eng+jpn+chi_sim
# OCR_TIMEOUT_MS=20000

# ========================================
# Few-shot (Golden Examples) 配置
# ========================================
# ENABLE_GOLDEN_EXAMPLES=false
# ENABLE_GEMINI_FEWSHOT=true
# GOLDEN_EXAMPLES_STRATEGY=HIGH_QUALITY_GEMINI
# GOLDEN_EXAMPLES_COUNT=3
# GOLDEN_EXAMPLES_MIN_SCORE=85
# GEMINI_FEWSHOT_COUNT=2
# GEMINI_FEWSHOT_MIN_SCORE=85
# GEMINI_FEWSHOT_TOKEN_BUDGET_RATIO=0.15
# GEMINI_FEWSHOT_EXAMPLE_MAX_CHARS=700
# GEMINI_FEWSHOT_PROVIDER=gemini
# LLM_CONTEXT_WINDOW=4096
# FEWSHOT_TOKEN_BUDGET_RATIO=0.25
# ENABLE_REVIEW_GATED_FEWSHOT=false
# REVIEW_GATED_FEWSHOT_ONLY=false
# REVIEW_GATE_MIN_OVERALL=4.2
# REVIEW_DEFAULT_REVIEWER=owner


# ========================================
# 数据存储路径
# ========================================
RECORDS_PATH=./trilingual_records
DB_PATH=./data/trilingual_records.db


# ========================================
# TTS Service Endpoints (Phase 2)
# ========================================
# English -> Kokoro HTTP
TTS_EN_ENDPOINT=http://tts-en:8000/v1/audio/speech
TTS_EN_TYPE=kokoro
TTS_EN_MODEL=hexgrad/Kokoro-82M
TTS_EN_VOICE=af_bella
TTS_EN_SPEED=1.0

# Japanese -> VOICEVOX Engine
TTS_JA_ENDPOINT=http://tts-ja:50021
TTS_JA_TYPE=voicevox
# Optional speaker id (VOICEVOX)
# VOICEVOX_SPEAKER=2


# ========================================
# 渲染模式
# ========================================
HTML_RENDER_MODE=local


# ========================================
# 配置说明
# ========================================
#
# 1. 推荐配置（本地LLM）:
#    - 完全离线运行，隐私安全，零成本
#    - 推荐模型：Qwen2.5-7B (中英日支持最佳)
#    - 速度：M4芯片 ~15 tok/s (Q4量化)
#
# 2. 如需重新启用 Gemini API:
#    - 访问: https://aistudio.google.com/app/apikey
#    - 获取API Key并填入 GEMINI_API_KEY
#    - 修改 server.js 默认 provider 为 'gemini'
#
# 3. Token 消耗参考（优化后）:
#    - 单次文本生成: ~1350 tokens (Prompt) + ~400 tokens (输出)
#    - 单次 OCR(Tesseract): 不消耗 LLM tokens
#    - 单次 OCR(Local 多模态): ~1000 tokens
#    - 本地LLM支持4K上下文模型
#
