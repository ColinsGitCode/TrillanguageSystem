<svg xmlns="http://www.w3.org/2000/svg" width="1680" height="1060" style="background-color: rgb(255, 255, 255);"><defs><marker id="arrow" viewBox="0 -5 10 10" refX="8" refY="0" markerWidth="7" markerHeight="7" orient="auto"><path d="M0,-5L10,0L0,5" fill="#475569"></path></marker><filter id="softShadow" x="-20%" y="-20%" width="160%" height="160%"><feDropShadow dx="0" dy="2" stdDeviation="2.2" flood-color="#0f172a" flood-opacity="0.12"></feDropShadow></filter></defs><text x="40" y="42" font-size="30" font-weight="800" fill="#0f172a">Prompt 阶段差异图: "打招呼" baseline vs fewshot_r1</text><text x="40" y="70" font-size="15" font-weight="500" fill="#64748b">V1 静态模板不变 | V2 参数变化 | V3 动态注入新增</text><g><rect x="48" y="110" width="780" height="318" rx="12" fill="#f8fafc" stroke="#cbd5e1" stroke-width="2" filter="url(#softShadow)"></rect><text x="62" y="134" font-size="22" font-weight="600" fill="#1f2937"><tspan x="62" dy="0">Prompt 构成对比（Token 估算）</tspan></text></g><text x="96" y="218" font-size="16" font-weight="700" fill="#1f2937">baseline</text><rect x="210" y="196" width="620" height="30" rx="8" fill="#e2e8f0"></rect><rect x="210" y="196" width="319.3233082706767" height="14" rx="6" fill="#0ea5e9"></rect><rect x="210" y="212" width="0" height="14" rx="6" fill="#0369a1"></rect><text x="537.3233082706768" y="208" font-size="12" fill="#1e3a8a">base: 274</text><text x="218" y="224" font-size="12" fill="#14532d">inject: 0</text><text x="760" y="217" font-size="14" font-weight="700" fill="#0f172a">total=274</text><text x="96" y="298" font-size="16" font-weight="700" fill="#1f2937">fewshot_r1</text><rect x="210" y="276" width="620" height="30" rx="8" fill="#e2e8f0"></rect><rect x="210" y="276" width="319.3233082706767" height="14" rx="6" fill="#22c55e"></rect><rect x="210" y="292" width="300.6766917293233" height="14" rx="6" fill="#15803d"></rect><text x="537.3233082706768" y="288" font-size="12" fill="#1e3a8a">base: 274</text><text x="518.6766917293232" y="304" font-size="12" fill="#14532d">inject: 258</text><text x="760" y="297" font-size="14" font-weight="700" fill="#0f172a">total=532</text><g><rect x="860" y="110" width="772" height="318" rx="12" fill="#f8fafc" stroke="#cbd5e1" stroke-width="2" filter="url(#softShadow)"></rect><text x="874" y="134" font-size="22" font-weight="600" fill="#1f2937"><tspan x="874" dy="0">Prompt 长度差异（字符 / 行）</tspan></text></g><text x="900" y="218" font-size="16" font-weight="700" fill="#334155">chars</text><rect x="1000" y="196" width="560" height="30" rx="8" fill="#e2e8f0"></rect><rect x="1000" y="196" width="251.03685222299487" height="12" rx="6" fill="#0ea5e9"></rect><rect x="1000" y="212" width="486.9565217391305" height="12" rx="6" fill="#22c55e"></rect><text x="1259.0368522229949" y="208" font-size="12" fill="#0369a1">baseline: 1096</text><text x="1494.9565217391305" y="224" font-size="12" fill="#15803d">fewshot: 2126</text><text x="900" y="298" font-size="16" font-weight="700" fill="#334155">lines</text><rect x="1000" y="276" width="560" height="30" rx="8" fill="#e2e8f0"></rect><rect x="1000" y="276" width="254.0084388185654" height="12" rx="6" fill="#0ea5e9"></rect><rect x="1000" y="292" width="466.6666666666667" height="12" rx="6" fill="#22c55e"></rect><text x="1262.0084388185653" y="288" font-size="12" fill="#0369a1">baseline: 43</text><text x="1474.6666666666667" y="304" font-size="12" fill="#15803d">fewshot: 79</text><g><rect x="48" y="458" width="510" height="252" rx="12" fill="#e0f2fe" stroke="#0284c7" stroke-width="2" filter="url(#softShadow)"></rect><text x="62" y="482" font-size="18" font-weight="600" fill="#1f2937"><tspan x="62" dy="0">V1 静态模板差异</tspan><tspan x="62" dy="34">结构约束: 基本一致</tspan><tspan x="62" dy="34">三语字段与严格要求不变</tspan><tspan x="62" dy="34">本例差异仅体现在后续注入段</tspan></text></g><g><rect x="586" y="458" width="510" height="252" rx="12" fill="#fef3c7" stroke="#d97706" stroke-width="2" filter="url(#softShadow)"></rect><text x="600" y="482" font-size="16" font-weight="600" fill="#1f2937"><tspan x="600" dy="0">V2 程序化参数差异</tspan><tspan x="600" dy="30">文件名基础: 打招呼 (2) -&gt; 打招呼 (3)</tspan><tspan x="600" dy="30">countRequested: 3 -&gt; 2</tspan><tspan x="600" dy="30">minScore: 85 -&gt; 80</tspan><tspan x="600" dy="30">tokenBudgetRatio: 0.25 -&gt; 0.18</tspan></text></g><g><rect x="1122" y="458" width="510" height="252" rx="12" fill="#dcfce7" stroke="#16a34a" stroke-width="2" filter="url(#softShadow)"></rect><text x="1136" y="482" font-size="16" font-weight="600" fill="#1f2937"><tspan x="1136" dy="0">V3 动态注入差异</tspan><tspan x="1136" dy="30">注入前缀: 35 行 / 1028 字符</tspan><tspan x="1136" dy="30">countUsed=1, exampleIds=[27]</tspan><tspan x="1136" dy="30">fallbackReason=budget_reduction</tspan><tspan x="1136" dy="30">fewshotPromptTokens=258</tspan></text></g><g><rect x="48" y="740" width="1584" height="260" rx="12" fill="#111827" stroke="#374151" stroke-width="2" filter="url(#softShadow)"></rect><text x="62" y="764" font-size="18" font-weight="600" fill="#f9fafb"><tspan x="62" dy="0">fewshot_r1 注入块样例（节选）</tspan><tspan x="62" dy="32">请参考以下 1 个高质量示例，仅学习结构与细节层级，不要照抄具体文本。</tspan><tspan x="62" dy="32">### 示例 1（质量评分: 87）</tspan><tspan x="62" dy="32">输入: シナリオ</tspan><tspan x="62" dy="32">输出示例: { "markdown_content": "...", "audio_tasks": [...] }</tspan><tspan x="62" dy="32">---</tspan><tspan x="62" dy="32">现在请基于下面任务生成结果：</tspan></text></g><text x="40" y="1034" font-size="12" fill="#64748b">Source: baseline/fewshot_r1 prompt text + observability.metadata.fewShot (phrase=打招呼)</text></svg>